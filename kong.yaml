_format_version: "3.0"

services:
  - name: auth-service
    url: http://account:3001/auth
    routes:
      - name: auth-routes
        paths:
          - /auth

  - name: user-service
    url: http://account:3001/users
    routes:
      - name: user-routes
        paths:
          - /users

  - name: tweet-service
    url: http://tweets:3004
    routes:
      - name: tweets
        paths:
          - /tweets


plugins:
  - name: rate-limiting
    config:
      minute: 5
      policy: local
      error_message: "API rate limit exceeded. Try again in a minute."